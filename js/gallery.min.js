const overlay=document.querySelector(".vy-overlay"),frameImage=document.querySelector(".vy-gallery-frame-image"),frameContainer=document.querySelector(".vy-gallery-frame-container"),galleryImages=document.querySelectorAll(".vy-thumb-box"),closeGallery=document.querySelectorAll(".vy-toggle-gallery"),btnNext=document.querySelector(".vy-item-next"),btnPrev=document.querySelector(".vy-item-prev"),currentSlide=document.querySelector(".vy-current-slide"),totalSlide=document.querySelector(".vy-total-slide"),skeletonLoading=document.querySelector(".vy-skeleton-loading"),galleryItem=document.querySelectorAll(".vy-post-gallery img"),counterFormater=function(e){return e<10?"0"+e:e};for(let e=0;e<galleryItem.length;e++)new Waypoint.Inview({element:galleryItem[e],entered:function(){let e=this.element.getAttribute("data-src");this.element.setAttribute("src",e)}});totalSlide.innerHTML=counterFormater(galleryImages.length);const skeletonAnim=function(e){let t=new Image;t.src=e,t.addEventListener("load",function(){skeletonLoading.classList.add("vy-fade-out"),setTimeout(function(){skeletonLoading.style.display="none"},2200)})},getImageSrc=function(){for(let e=0;e<galleryImages.length;e++)galleryImages[e].addEventListener("click",function(){const e=this.querySelector("img").getAttribute("data-src"),t=this.querySelector("img").getAttribute("data-item");skeletonLoading.style.display="flex",frameImage.setAttribute("src",e),frameImage.setAttribute("data-index",t),overlay.classList.add("vy-is-opened"),frameContainer.classList.add("vy-is-opened"),currentSlide.innerHTML=counterFormater(t),skeletonAnim(e)})};getImageSrc();for(let e=0;e<closeGallery.length;e++)closeGallery[e].addEventListener("click",function(){overlay.classList.remove("vy-is-opened"),frameContainer.classList.remove("vy-is-opened")});const nextItem=function(){const e=frameImage.getAttribute("data-index"),t=parseInt(e)+1;for(let e=0;e<galleryImages.length;e++){if(t===parseInt(galleryImages[e].querySelector("img").getAttribute("data-item"))){let t=galleryImages[e].querySelector("img").getAttribute("data-src"),r=galleryImages[e].querySelector("img").getAttribute("data-item");skeletonLoading.style.display="flex",frameImage.setAttribute("src",t),frameImage.setAttribute("data-index",r),currentSlide.innerHTML=counterFormater(r),skeletonAnim(t)}}},prevItem=function(){const e=frameImage.getAttribute("data-index"),t=parseInt(e)-1;for(let e=0;e<galleryImages.length;e++){if(t===parseInt(galleryImages[e].querySelector("img").getAttribute("data-item"))){let t=galleryImages[e].querySelector("img").getAttribute("data-src"),r=galleryImages[e].querySelector("img").getAttribute("data-item");skeletonLoading.style.display="flex",frameImage.setAttribute("src",t),frameImage.setAttribute("data-index",r),currentSlide.innerHTML=counterFormater(r),skeletonAnim(t)}}};btnNext.addEventListener("click",function(){nextItem()}),btnPrev.addEventListener("click",function(){prevItem()});